package aw;

import java.awt.FlowLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.KeyEvent;

import javax.swing.ImageIcon;
import javax.swing.JFileChooser;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JMenu;
import javax.swing.JMenuBar;
import javax.swing.JMenuItem;
import javax.swing.JPanel;
import javax.swing.JTextField;
import javax.swing.KeyStroke;
import javax.swing.SwingConstants;
import javax.swing.filechooser.FileNameExtensionFilter;

public class PhoneFrame extends ParentGUI{
	private JFileChooser fileChooser;
	private JPanel mainPanel;
	private JTextField phoneNumberTF;

	public PhoneFrame(){
		super("CSCI 201 Midterm -  Telephone"); // match the title
		createMenuBar();
		createGUI();
		
		

		
	}

	@Override
	protected void createMenuBar() {
		/*** MENUBAR & OPENING IMAGE FILE ****** MENUBAR & OPENING IMAGE FILE ****** MENUBAR & OPENING IMAGE FILE ******/
		JMenuBar menuBar = new JMenuBar();
		JMenu openMenu = new JMenu("Phone");
		JMenuItem openFileItem = new JMenuItem("Call");
		openMenu.setMnemonic('o');
		openFileItem.setMnemonic('o');
//		ImageIcon ii = new ImageIcon("uscshield.png");
//		openFileItem.setIcon(ii);
		openFileItem.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_O, ActionEvent.CTRL_MASK));
		openFileItem.addActionListener(new ActionListener(){
			@Override
			public void actionPerformed(ActionEvent ae) {
				fileChooser = new JFileChooser();
				fileChooser.setVisible(true);
				FileNameExtensionFilter xmlFilter = new FileNameExtensionFilter("Images", "jpg", "png", "gif", "jpeg");
				fileChooser.setFileFilter(xmlFilter);
				int returnVal = fileChooser.showOpenDialog(PhoneFrame.this);
				if(returnVal == JFileChooser.APPROVE_OPTION) {
					imageLbl.removeAll();
					//TODO replace image when another is selected
					System.out.println("Remove");
					imageFile = fileChooser.getSelectedFile();
//					System.out.println("You chose to open this file: " + imageFile.getName());
					ImageIcon iconUSCseal = new ImageIcon(imageFile.getAbsolutePath());
					imageLbl = new JLabel("USC", iconUSCseal, SwingConstants.CENTER);
					imageLbl.setHorizontalTextPosition(SwingConstants.CENTER);
					imageLbl.setVerticalTextPosition(SwingConstants.BOTTOM);
					imageLbl.setIconTextGap(5);
					mainPanel.add(imageLbl);
					repaint();
				}
//				System.out.println("DEBUG: Open file clicked");

			}

		});
		openMenu.add(openFileItem);
		menuBar.add(openMenu);
		setJMenuBar(menuBar);
		
		
		
	}

	@Override
	protected JPanel createGUI() {
		mainPanel = new JPanel();
		
		
		mainPanel.setLayout(new FlowLayout(FlowLayout.LEFT));
		
		mainPanel.add(imageLbl);
		
		
		add(mainPanel);
		setVisible(true);
		return mainPanel;
	}
	
	
}
